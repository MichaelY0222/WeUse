<!--pages/index/index.wxml-->
<view class="page">
  <text hidden="{{!showDebugInfo}}">pages/index/index.wxml</text>
  <view class="heading">
    <image src="../../icons/logo.svg" class="weUseLogo"></image>
    <!--text class="weUseSlogan">Let's reuse!</text-->
    <image src="../../icons/scan.svg" class="iconscan" bindtap="scan"></image>
  </view>
  <view class="spacelast"></view>
    <input class="search" placeholder="Search" type="text" bindinput="bindSearchList"/>
    <view class="filterView">
      <text class='filterText' style="margin-left:20px;">
      Filters: 
      </text>
      <picker class="filterMenu" mode="selector" bindchange="bindGradeFilter" range="{{gradeFilters}}" style="margin-left: 10px;">
      Grade: {{gradeFilters[gradeFilterIndex]}}
      </picker>
      <picker class="filterMenu" mode="selector" bindchange="bindSubjectFilter" range="{{subjectFilters}}" style="margin-left: 20px; width: 20vw;">
      Subject: {{subjectFilters[subjectFilterIndex]}}
      </picker>
      <picker class="filterMenu" mode="selector" bindchange="bindLevelFilter" range="{{levelFilters}}" style="margin-left: 20px;">
      Level: {{levelFilters[levelFilterIndex]}}
      </picker>
    </view>
    <scroll-view scroll-y="true" class="itemScroll">
      <view wx:if="{{noResults}}" class="container">
      <image class="noResultsImage" src="../../icons/results.png">
      </image>
      <text class="subtextBlue">No results are found with the applied filters. Please try using different filters or click Clear Filters.</text>
      <view class="spacelast"></view>
      <button class="button" bindtap="clearFilters">Clear Filters</button>
      </view>
      <view wx:for="{{itemListEven}}" wx:for-item="item" wx:for-index="index" wx:key="id" class="itemRow">
        <view class="item" bindtap="redeem" data-itemid="{{index}}">
          <text class="itemText">{{itemListOdd[index].name}}</text>
          <image class="itemImage" src="{{itemListOdd[index].imgUrl}}"></image>
          <text class="itemText">Available: {{itemListOdd[index].quantity}}\n</text>
          <text class="itemText">Grades: {{itemListOdd[index].grades}}\n</text>
          <text class="itemText">Subject: {{itemListOdd[index].subject}}\n</text>
          <text class="itemText">Level: {{itemListOdd[index].level}}\n</text>
          <text class="itemText">Stamps: {{itemListOdd[index].stamps}}</text>
        </view>
        <view class="item">
          <text class="itemText">{{item.name}}</text>
          <image class="itemImage" src="{{item.imgUrl}}"></image>
          <text class="itemText">Available: {{item.quantity}}\n</text>
          <text class="itemText">Grades: {{item.grades}}\n</text>
          <text class="itemText">Subject: {{item.subject}}\n</text>
          <text class="itemText">Level: {{itemListEven[index].level}}\n</text>
          <text class="itemText">Stamps: {{item.stamps}}</text>
        </view>
      </view>
      <view class="itemRow" wx:if="{{itemListsLengthDifferent}}">
        <view class="item">
          <text class="itemText">{{itemListOdd[itemListOdd.length-1].name}}</text>
          <image class="itemImage" src="{{itemListOdd[itemListOdd.length-1].imgUrl}}"></image>
          <text class="itemText">Available: {{itemListOdd[itemListOdd.length-1].quantity}}\n</text>
          <text class="itemText">Grades: {{itemListOdd[itemListOdd.length-1].grades}}\n</text>
          <text class="itemText">Subject: {{itemListOdd[itemListOdd.length-1].subject}}\n</text>
          <text class="itemText">Level: {{itemListOdd[itemListOdd.length-1].level}}\n</text>
          <text class="itemText">Stamps: {{itemListOdd[itemListOdd.length-1].stamps}}</text>
        </view>
      </view>
    </scroll-view>
</view>